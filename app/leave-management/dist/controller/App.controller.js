sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,o,s,n){"use strict";return e.extend("leave.management.controller.App",{onInit:function(){var e=o.getRouterFor(this);e.attachRouteMatched(this.onRouteMatched,this);var t=new s({tiles:[{title:"My Leaves",info:"View your leave requests",icon:"sap-icon://list",press:this.onMyLeavesPress.bind(this)},{title:"Create Leave",info:"Submit a new leave request",icon:"sap-icon://add",press:this.onCreateLeavePress.bind(this)},{title:"Leave Balances",info:"View your leave balances",icon:"sap-icon://table-view",press:this.onLeaveBalancesPress.bind(this)},{title:"Approvals",info:"Approve/Reject leave requests",icon:"sap-icon://task",press:this.onApprovalsPress.bind(this)}]});this.getView().setModel(t,"tiles");const n=new s({initials:"U"});this.getView().setModel(n,"userModel")},onRouteMatched:function(e){var t=e.getParameter("name")},onNavBack:function(){var e=t.getInstance();var s=e.getPreviousHash();if(s!==undefined){window.history.go(-1)}else{var n=o.getRouterFor(this);n.navTo("leaveRequests",{},true)}},onMyLeavesPress:function(){var e=o.getRouterFor(this);e.navTo("leaveRequests")},onCreateLeavePress:function(){var e=o.getRouterFor(this);e.navTo("createLeaveRequest")},onLeaveBalancesPress:function(){var e=o.getRouterFor(this);e.navTo("leaveBalances")},onApprovalsPress:function(){var e=o.getRouterFor(this);e.navTo("approvalLeaveRequests")},onTilePress:function(e){var t=e.getSource();var s=t.getBindingContext("tiles");var n=s.getProperty("title");var a=o.getRouterFor(this);switch(n){case"My Leaves":a.navTo("leaveRequests");break;case"Create Leave":a.navTo("createLeaveRequest");break;case"Leave Balances":a.navTo("leaveBalances");break;case"Approvals":a.navTo("approvalLeaveRequests");break}},onMenuButtonPressed:function(){const e=this.byId("toolPage");e.setSideExpanded(!e.getSideExpanded())},onAvatarPressed:function(e){const t=this.byId("userMenu");const o=e.getSource();if(!this._userMenu){this._userMenu=new sap.m.Menu({items:[new sap.m.MenuItem({text:"Logout",press:this.onLogout.bind(this)})]})}this._userMenu.openBy(o)},onMenuItemSelected:function(e){const t=e.getParameter("item").getKey();if(t==="logout"){this.onLogout()}},onLogout:function(){n.confirm("Are you sure you want to logout?",{title:"Logout Confirmation",onClose:function(e){if(e===n.Action.OK){localStorage.clear();sessionStorage.clear();const e=document.cookie.split(";");for(let t=0;t<e.length;t++){const o=e[t];const s=o.indexOf("=");const n=s>-1?o.substring(0,s):o;document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}sap.m.URLHelper.redirect("./logout",false);BusyIndicator.show(0)}}})}})});
//# sourceMappingURL=App.controller.js.map